<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lab 8: CI IKS :: Learning Cloudnative 101</title>
    <link rel="canonical" href="https://ibm-cloud-architecture.github.io/learning-cloudnative-101/web/1.0.0/DevOps_Module/Lab8_IKS.html">
    <meta name="generator" content="Antora 2.0.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <p>Learning Cloudnative 101</p>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="web" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../Cloud_Native_Module/Cloudnative_Overview.html">Learning Cloudnative 101</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cloud Native</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Cloud_Native_Module/Cloudnative_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Cloud_Native_Module/Cloudnative_framework_prog_model.html">Framework &amp; Programming Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Cloud_Native_Module/Cloudnative_app_development.html">App Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Cloud_Native_Module/Lab1.html">Lab 1: App Development</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Containers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/Docker.html">Containerization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/Lab2.html">Lab 2: Docker</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Kubernetes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/kubernetesPatterns.html">Kubernetes Patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Kubernetes_Module/Lab3.html">Lab 3: Deploy Kubernetes App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Kubernetes_Module/Lab3.html#_deploy_kubernetes_app_using_openshift_console">Using OCP Console</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Kubernetes_Module/Lab3.html#_deploy_kubernetes_app_using_oc_cli">Using oc CLI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/Lab4.html">Lab 4: Update Kubernetes App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/operators.html">Helm/Operator Patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Kubernetes_Module/Lab5.html">Lab 5: Helm Templates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cloud Foundry to Kubernetes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../CF_Migrate_Module/Kubernetes-for-CF.html">Kubernetes for CF users</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../CF_Migrate_Module/CF-migration.html">CF Migration Tool</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lab 7: CF2K8S</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../CF_Migrate_Module/cf-migrate-exercise-ocp.html">Lab 7: CF2K8S - OpenShift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../CF_Migrate_Module/cf-migrate-exercise-iks.html">Lab 7: CF2K8S - IKS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">DevOps and CICD</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Devops_Concepts.html">DevOps Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cicd.html">CI/CD</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="devops_tooling.html">Devops Tooling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lab 8: CI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Lab8_Openshift.html">Lab 8: CI - Openshift</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="Lab8_IKS.html">Lab 8: CI - IKS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lab 9: CD</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Lab9_OpenShift.html">Lab 9: CD - Openshift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Lab9_IKS.html">Lab 9: CD - IKS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Learning Cloudnative 101</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Learning Cloudnative 101</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../Cloud_Native_Module/Cloudnative_Overview.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../Cloud_Native_Module/Cloudnative_Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../Cloud_Native_Module/Cloudnative_Overview.html">Learning Cloudnative 101</a></li>
    <li>DevOps and CICD</li>
    <li>Lab 8: CI</li>
    <li><a href="Lab8_IKS.html">Lab 8: CI - IKS</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/ibm-cloud-architecture/learning-cloudnative-101/edit/master/modules/ROOT/pages/DevOps_Module/Lab8_IKS.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1 class="page">Lab 8: CI IKS</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_prerequisites">Prerequisites</a></li>
<li><a href="#_continuous_integration">Continuous Integration</a>
<ul class="sectlevel2">
<li><a href="#_install_jenkins">Install Jenkins</a></li>
<li><a href="#_get_the_sample_app">Get the Sample App</a></li>
<li><a href="#_jenkinsfile">Jenkinsfile</a></li>
<li><a href="#_jenkins_credentials">Jenkins Credentials</a></li>
<li><a href="#_jenkins_pipeline">Jenkins Pipeline</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lab, you will learn about how to define Continuous Integration for your application. We are using <a href="https://jenkins.io/">Jenkins</a> to define it.</p>
</div>
<div class="paragraph">
<p><strong class="maroon">Jenkins</strong></p>
</div>
<div class="paragraph">
<p>Jenkins is a popular open source Continuous Integration tool. It is built in Java. It allows the developers to perform continuous integration and build automation. It allows you to define steps and executes them based on the instructions like building the application using build tools like Ant, Gradle, Maven etc, executing shell scripts, running tests etc. All the steps can be executed based on the timing or event. It depends on the setup. It helps to monitor all these steps and sends notifications to the team members in case of failures. Also, it is very flexible and has a large plugin list which one easily add based on their requirements.</p>
</div>
<div class="paragraph">
<p>Check these guides out if you want to know more about Jenkins - <a href="https://jenkins.io/doc/">Jenkins, Leading open source automation server</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>You need an <a href="https://cloud.ibm.com/login">IBM cloud account</a>.</p>
</li>
<li>
<p>Create kubernetes cluster using <a href="https://cloud.ibm.com/docs/containers?topic=containers-getting-started">IBM Cloud Kubernetes Service</a>. Here, you can choose a kubernetes cluster.</p>
</li>
<li>
<p>Install <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> command line tool.</p>
</li>
<li>
<p>You should be familiar with basics like Containers, Docker, Kubernetes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_continuous_integration"><a class="anchor" href="#_continuous_integration"></a>Continuous Integration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_install_jenkins"><a class="anchor" href="#_install_jenkins"></a>Install Jenkins</h3>
<div class="ulist">
<ul>
<li>
<p>Initially log in into your ibm cloud account as follows.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ibmcloud login -a cloud.ibm.com -r &lt;region&gt; -g &lt;cluster_name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then download the Kube config files as below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ibmcloud ks cluster-config --cluster &lt;cluster_name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also get the <code>access</code> instructions in <code>IBM Cloud Dashboard &gt; Kubernetes Clusters &gt; Click on your Cluster &gt; Click on Access Tab</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install Jenkins using helm using the below command. We are not using persistence in this lab.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ helm install --name cloudnative-jenkins --set persistence.enabled=false stable/jenkins</code></pre>
</div>
</div>
<div class="paragraph">
<p>If it is successfully executed, you will see something like below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ helm install --name cloudnative-jenkins --set persistence.enabled=false stable/jenkins
NAME:   cloudnative
LAST DEPLOYED: Wed Aug  7 16:22:55 2019
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==&gt; v1/ConfigMap
NAME                       DATA  AGE
cloudnative-jenkins        5     1s
cloudnative-jenkins-tests  1     1s

==&gt; v1/Deployment
NAME                 READY  UP-TO-DATE  AVAILABLE  AGE
cloudnative-jenkins  0/1    1           0          1s

==&gt; v1/Pod(related)
NAME                                  READY  STATUS    RESTARTS  AGE
cloudnative-jenkins-57588c86c7-hxqmq  0/1    Init:0/1  0         0s

==&gt; v1/Role
NAME                                 AGE
cloudnative-jenkins-schedule-agents  1s

==&gt; v1/RoleBinding
NAME                                 AGE
cloudnative-jenkins-schedule-agents  1s

==&gt; v1/Secret
NAME                 TYPE    DATA  AGE
cloudnative-jenkins  Opaque  2     1s

==&gt; v1/Service
NAME                       TYPE          CLUSTER-IP      EXTERNAL-IP     PORT(S)         AGE
cloudnative-jenkins        LoadBalancer  172.21.143.35   169.63.132.124  8080:32172/TCP  1s
cloudnative-jenkins-agent  ClusterIP     172.21.206.235  &lt;none&gt;          50000/TCP       1s

==&gt; v1/ServiceAccount
NAME                 SECRETS  AGE
cloudnative-jenkins  1        1s


NOTES:
1. Get your 'admin' user password by running:
  printf $(kubectl get secret --namespace default cloudnative-jenkins -o jsonpath="{.data.jenkins-admin-password}" | base64 --decode);echo
2. Get the Jenkins URL to visit by running these commands in the same shell:
  NOTE: It may take a few minutes for the LoadBalancer IP to be available.
        You can watch the status of by running 'kubectl get svc --namespace default -w cloudnative-jenkins'
  export SERVICE_IP=$(kubectl get svc --namespace default cloudnative-jenkins --template "{{ range (index .status.loadBalancer.ingress 0) }}{{ . }}{{ end }}")
  echo http://$SERVICE_IP:8080/login

3. Login with the password from step 1 and the username: admin


For more information on running Jenkins on Kubernetes, visit:
https://cloud.google.com/solutions/jenkins-on-container-engine
#################################################################################
######   WARNING: Persistence is disabled!!! You will lose your data when   #####
######            the Jenkins pod is terminated.                            #####
#################################################################################</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the above mentioned steps to open Jenkins UI and login.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To get the url, run the below commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ export SERVICE_IP=$(kubectl get svc --namespace default cloudnative-jenkins --template "{{ range (index .status.loadBalancer.ingress 0) }}{{ . }}{{ end }}")
$ echo http://$SERVICE_IP:8080/login</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once executed, you will see something like below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ echo http://$SERVICE_IP:8080/login
http://169.63.132.124:8080/login</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now, let us login into the Jenkins.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_iks_login.png" alt="Jenkins iks login">
</div>
</div>
<div class="paragraph">
<p>The user name will be <code>admin</code> and to get the password, run the below command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ printf $(kubectl get secret --namespace default cloudnative-jenkins -o jsonpath="{.data.jenkins-admin-password}" | base64 --decode);echo</code></pre>
</div>
</div>
<div class="paragraph">
<p>It returns you the password as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ printf $(kubectl get secret --namespace default cloudnative-jenkins -o jsonpath="{.data.jenkins-admin-password}" | base64 --decode);echo
password</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Once, successfully logged in you will see the Jenkins home page which is as follows.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_home.png" alt="Jenkins IKS home">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_the_sample_app"><a class="anchor" href="#_get_the_sample_app"></a>Get the Sample App</h3>
<div class="ulist">
<ul>
<li>
<p>Fork the below repository.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>https://github.com/ibm-cloud-architecture/cloudnative_sample_app</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Clone the forked repository.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git clone https://github.com/&lt;user&gt;/cloudnative_sample_app.git</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jenkinsfile"><a class="anchor" href="#_jenkinsfile"></a>Jenkinsfile</h3>
<div class="paragraph">
<p>Before setting up the CI pipeline, let us first have a look at our Jenkinsfile and understand the stages here.</p>
</div>
<div class="paragraph">
<p>Open your Jenkinsfile or you can also access it <a href="https://github.com/ibm-cloud-architecture/cloudnative_sample_app/blob/master/Jenkinsfile">here</a>.</p>
</div>
<div class="paragraph">
<p>In our Jenkins file, we have five stages.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Local - Build</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this stage, we are building the application and packaging it using maven.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Local - Test</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this stage, we are making all the unit tests are running fine by running maven test.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Local - Run</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this stage, we are running the application using the previous build and verifying the application performing health and api checks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Build and Push Image</strong></p>
<div class="ulist">
<ul>
<li>
<p>We are logging in to the IBM Cloud and accessing the IBM Cloud Container Registry.</p>
</li>
<li>
<p>We are also creating a namespace if not present.</p>
</li>
<li>
<p>We are building the image using ibmcloud cli tools.</p>
</li>
<li>
<p>Once the image is built, it is pushed into the container registry.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this stage, we are building the docker image and pushing it to the registry.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Push to Deploy repo</strong></p>
<div class="ulist">
<ul>
<li>
<p>Initially, we are cloning the deploy repository.</p>
</li>
<li>
<p>Changing the image tag to the one we previously built and pushed.</p>
</li>
<li>
<p>Pushing this new changes to the deploy repository.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this stage, we are pushing the new artifact tag to the deploy repository which will later be used by the Continuous Delivery system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_jenkins_credentials"><a class="anchor" href="#_jenkins_credentials"></a>Jenkins Credentials</h3>
<div class="paragraph">
<p>Let us now build all the credentials required by the pipeline.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the Jenkins home page, click on <code>Credentials</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_credentials.png" alt="Jenkins IKS credentials">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In the Credentials page, click on <code>Jenkins</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_creds_global.png" alt="Jenkins creds global">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now, click on <code>Global Credentials (UnRestricted)</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_global_cred_creation.png" alt="Jenkins global cred creation">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click on <code>Add Credentials</code> to create the ones required for this lab.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_add_creds.png" alt="Jenkins add creds">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now create a secrets as follows.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Kind : Secret Text
Secret: &lt;Your container registry url, for eg., us.icr.io&gt;
ID: registry_url</pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_secret_creation.png" alt="Jenkins secret creation">
</div>
</div>
<div class="paragraph">
<p>Once created, you will see something like below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_secrets.png" alt="Jenkins secrets">
</div>
</div>
<div class="paragraph">
<p>Similarly create the rest of the credentials as well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Kind : Secret Text
Secret: &lt;Your registry namespace, for eg., catalyst_cloudnative&gt;
ID: registry_namespace

Kind : Secret Text
Secret: &lt;Your IBM cloud region, for eg., us-east&gt;
ID: ibm_cloud_region

Kind : Secret Text
Secret: &lt;Your IBM Cloud API key&gt;
ID: ibm_cloud_api_key

Kind : Secret Text
Secret: &lt;Your Github Username&gt;
ID: git-account

Kind : Secret Text
Secret: &lt;Your Github Token&gt;
ID: github-token</pre>
</div>
</div>
<div class="paragraph">
<p>Once all of them are created, you will have the list as follows.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_all_secrets.png" alt="Jenkins all secrets">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jenkins_pipeline"><a class="anchor" href="#_jenkins_pipeline"></a>Jenkins Pipeline</h3>
<div class="ulist">
<ul>
<li>
<p>Create a new pieline. Go to Jenkins &gt; Click on <code>New Item</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_pipeline_creation.png" alt="Jenkins IKS pipeline creation">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter the name of your application, select <code>Pipeline</code> and then click <code>OK</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_newitem.png" alt="Jenkins IKS newitem">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In <code>General</code>, check <code>This project is parameterized</code>. Create a string parameter with name <code>CLOUD</code> and Default value <code>kubernetes</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_parameter.png" alt="Jenkins IKS parameter">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now go to the <code>Pipeline</code> tab and enter the details of the repository.</p>
<div class="ulist">
<ul>
<li>
<p>In the Definition, choose <code>Pipeline script from SCM</code>.</p>
</li>
<li>
<p>Mention SCM as <code>Git</code>.</p>
</li>
<li>
<p>Enter the repository URL in <code>Repository URL</code>.</p>
</li>
<li>
<p>Specify <code>master</code> as the branch to build.</p>
</li>
<li>
<p><code>Save</code> this information.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_Pipeline_details.png" alt="Jenkins IKS Pipeline details">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To initiate a build, click <code>Build with Parameters</code>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_Pipeline_BuildNow.png" alt="Jenkins IKS Pipeline BuildNow">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Once the build is successful, you will see something like below.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_IKS_Pipeline_Build.png" alt="Jenkins IKS Pipeline Build">
</div>
</div>
<div class="paragraph">
<p>After this build is done, your deploy repository will be updated by the Jenkins.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/Jenkins_modify_deploy_repo.png" alt="Jenkins modify deploy repo">
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
